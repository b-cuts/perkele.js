/*! perkele.js - v0.1.0 - 2012-05-04
* https://github.com/kpuputti/perkele.js
* Copyright (c) 2012 Kimmo Puputti; Licensed MIT */
(function(){var a=function(){if(window.console&&console.log&&console.log.apply){var a=Array.prototype.slice.call(arguments);a.unshift("perkele:"),console.log.apply(console,a)}},b={busy:!1,currentIndex:null,slides:[]};b.show=function(c,d){a("show index:",c,"with current:",b.currentIndex);if(b.busy||c<0||c>=b.slides.length){a("cannot show");return}if(b.currentIndex===null){a("no current, show:",c),b.slides[c].className="current",b.currentIndex=c;return}b.busy=!0;var e=window.innerWidth,f=b.slides[b.currentIndex],g=b.slides[c],h=f.style,i=g.style;a("from",b.currentIndex,"to",c),h.width=e+"px",i.width=e+"px",h.left="0",i.left=(d?"-100%":"100%")+"px";var j=d?"-reverse":"";f.className="animate-from"+j,g.className="current animate-to"+j,window.setTimeout(function(){f.className="",g.className="current",h.left="0",i.left="0",b.currentIndex=c,b.busy=!1},500)},b.prev=function(){b.currentIndex!==null&&(a("prev"),b.show(b.currentIndex-1,!0))},b.next=function(){b.currentIndex!==null&&(a("next"),b.show(b.currentIndex+1))},b._onKeyUp=function(c){var d=c.keyCode;a("key up:",c,"with key code:",d),d===37?b.prev():d===39&&b.next()},b.start=function(){a("start"),b.slides=document.querySelectorAll("article"),b.slides.length>0&&b.show(0),document.body.addEventListener("keyup",b._onKeyUp,!1)},typeof define=="function"&&define.amd?define(function(){return b}):window.perkele=b,window.addEventListener("DOMContentLoaded",b.start,!1)})();